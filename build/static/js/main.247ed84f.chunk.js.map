{"version":3,"sources":["reqService/req.js","components/navbar.js","components/Record.js","components/Form.js","components/Content.js","components/signup.js","App.js","reportWebVitals.js","index.js"],"names":["reqService","postUrl","passedObj","axios","post","then","res","data","getUrl","passedUrl","get","getUserIp","ip","postUser","getHistory","clearHistory","NavBar","signup","className","onClick","Record","longUrl","shortUrl","copyHandle","copyUrlF","getRequest","substring","title","href","rel","target","e","navigator","clipboard","writeText","blur","style","color","setTimeout","Form","postUrlF","newUrlF","handleChangeF","handleKeysF","visitsF","showHistoryF","onSubmit","id","placeholder","value","onChange","type","onKeyUp","Content","alt","src","Signup","action","method","crossOrigin","htmlFor","name","required","pattern","App","useState","newUrl","setUrl","visits","setVisits","records","setRecords","history","setHistory","setIp","exitButton","useRef","signupPage","useEffect","preventDefault","urlObj","original","minified","count","record","long","short","nano","key","Date","concat","reverse","current","display","KeyCode","console","log","appHistory","map","rec","ref","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.247ed84f.chunk.js","sourcesContent":["import axios from 'axios';\nconst addUrl = '/post/service/url';\nconst addUser = '/post/service/addNewUser';\nconst getUserHistory = '/post/service/app/history';\nconst deleteReq = 'post/service/delallaPPhisToRy';\n\nconst postUrl = (passedObj) => {\n  return axios.post(addUrl, passedObj).then(res => res.data);\n}\nconst getUrl = (passedUrl) => {\n  return axios.get(passedUrl).then(res => res.data);\n}\nconst getHistory = (passedObj) => {\n  return axios.post(getUserHistory, passedObj).then(res => res.data);\n}\nconst getUserIp = () => {\n  return axios.get('http://api.ipify.org/?format=json').then(res => res.data.ip);\n}\nconst postUser = (passedObj) => {\n  return axios.post(addUser, passedObj).then(res => res.data);\n}\nconst clearHistory = (passedObj) => {\n  return axios.post(deleteReq, passedObj).then(res => res.data);\n}\n\n//Export all the functionality\nconst reqService = { postUrl, getUrl, getUserIp, postUser, getHistory, clearHistory };\nexport default reqService;\n","import React from 'react';\nimport '../App.css';\n\nconst NavBar = ({signup}) => {\n  return (\n    <div className=\"nav-wrapper\">\n      <h1>Lynx</h1>\n      <button onClick={signup} className=\"btn btn-light float-right\"><i className=\"bi bi-person\"></i>Create Account</button>\n      \n      <button className=\"btn btn-white float-right\">Sign In</button>\n      \n    </div>\n);\n}\nexport default NavBar;\n","import React from 'react';\nimport '../App.css';\nconst Record = ({longUrl, shortUrl, copyHandle, copyUrlF, getRequest}) => {\n\n  const copyToClipboard = (e) => {\n    navigator.clipboard.writeText(shortUrl);\n    e.target.blur();\n    e.target.style.color = \"#f5322d\";\n    setTimeout(() => {\n        e.target.style.color = \"#000\";\n      }, 500)\n  };\n  return (\n    <div className=\"record-wrapper\">\n      <i className=\"bi bi-clock-history text-info\"></i>\n      <span className=\"url text-info\">{longUrl.substring(0, 40) + '...'}</span>\n      <a className=\"url\" title={\"shortened URL for \" + longUrl} href={shortUrl} rel=\"noreferrer\" target=\"_blank\">{shortUrl}</a>\n      <button className=\"btn btn-copy\" onClick={ copyToClipboard }><i className=\"bi bi-clipboard\"></i>Copy</button>\n    </div>\n  );\n}\nexport default Record;\n","import React from 'react';\nimport '../App.css';\n\nconst Form = ({postUrlF, newUrlF, handleChangeF, handleKeysF, visitsF, showHistoryF}) => {\n\n  return (\n    <div>\n      \n      <form onSubmit={postUrlF} className=\"container bg-dark text-white p-5 rounded\">\n        \n        <input\n          id=\"input-url\"\n          className=\"form-control-md input text-white\"\n          placeholder=\"https://type_your_url...\"\n          value={newUrlF}\n          onChange={handleChangeF}\n        />\n        <div className=\"ml-5 p-2\">\n          <button type=\"submit\" onKeyUp={handleKeysF} className=\"btn btn-light ml-1\"><i className=\"bi bi-scissors\"></i>Shorten</button>\n          <button type=\"submit\" className=\"btn text-white ml-1 disabled\" title=\"Total clicks for given url.\"><i className=\"bi bi-graph-up\"></i>TOTAL CLICKS <br/>{visitsF}</button>\n          <button type=\"submit\" onClick={showHistoryF} className=\"btn btn-light ml-1\" title=\"Show app history\"><i className=\"bi bi-clock-history\"></i>App History</button>\n        </div>\n      </form>\n    </div>\n  );\n}\nexport default Form;\n","import React from 'react';\nimport '../App.css';\n\nconst Content = () => {\n  return (\n    <div className=\"container m-5 content\">\n      <h2 className=\"d-inline-block\">Link with Lynx. <br/> Join our community.</h2>\n      <p className=\"p-home\">On top of better deliverability and click-through, rich link-level data gives you crucial insight into your link engagement so your team can make smarter decisions around its content and communications.</p>\n      <img alt=\"Homepage\" src=\"https://www.hauer.codes/images/logos/codeOrbitDark.png\" id=\"home-img\"/>\n    </div>\n  )\n}\nexport default Content;\n","import React from 'react';\nimport '../App.css';\n\nconst Signup = () => {\n\treturn (\n\n\t\t<div className=\"justify-content-center d-flex\">\n\t\t  <form action=\"http://localhost:7000/auth/sign_up\" method=\"POST\" className=\"bg-dark p-5 text-white rounded\" crossOrigin=\"\">\n\t\t  \t<label htmlFor=\"number\">Phone number</label>\n\t\t    <input className=\"text-white\" name=\"number\" id=\"number\" type=\"tel\" required/><br/>\n\t\t    <label htmlFor=\"password\">Password </label>\n\t\t  \t<input className=\"text-white\" type=\"password\" id=\"password\" name=\"password\" pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\" \n\t\t  \ttitle=\"Must contain at least one number and one uppercase and lowercase letter, and at least 8 characters\" required /><br />\n\n\t\t    <button type=\"submit\" value=\"Submit\" className=\"btn btn-light w-50 m-5\">Create</button><br />\n\t\t    </form>\n\t\t</div>\n\t);\n}\nexport default Signup;","import React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nimport reqService from './reqService/req';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport NavBar from './components/navbar';\nimport Record from './components/Record';\nimport Form from './components/Form';\nimport Content from './components/Content';\nimport Signup from './components/signup';\n\n\n\nconst App = () => {\n  const [newUrl, setUrl] = useState(\"\");\n  const [visits, setVisits] = useState(0);\n  const [records, setRecords] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [ip, setIp] = useState(\"\");\n  const exitButton = useRef(null);\n  const signupPage = useRef(null);\n\n  useEffect(() => {\n    reqService.getUserIp().then(res => {\n      setIp(res);\n      // console.log(res);\n    });\n  }, []);\n  const handleChange = (e) => {\n    setUrl(e.target.value);\n  }\n  const postUrl = (e) => {\n    e.preventDefault();\n    if(newUrl){\n      const urlObj = {\n        original: newUrl\n      }\n    reqService\n      .postUrl(urlObj)\n        .then(res => {\n            setUrl(res.minified);\n            setVisits(res.count);\n            let record = {\n              long: res.original,\n              short: res.minified,\n              id: res.nano,\n              key: new Date()\n          }\n        setRecords(records.concat(record).reverse());\n        reqService.postUser({ip, record}).then(res => res);\n       });\n    }\n    \n  }\n  const handleKeys = (e) => e.KeyCode === 13 ? postUrl : console.log(\"Wrong key;\");\n  const showHistory = () => {\n      setUrl(newUrl);\n      reqService.getHistory({ ip }).then(res => {\n      const appHistory = res.map(rec => <Record key={rec.key} longUrl={rec.long} shortUrl={rec.short}/>)\n      setHistory(appHistory);\n      if(history){\n        exitButton.current.style.display = \"block\";\n      }\n    });\n  }\n  const hideHistory = () => {\n    setHistory([]);\n    exitButton.current.style.display = \"none\";\n\n  }\n  const clearHistory = () => {\n    reqService.clearHistory({ ip });\n    setHistory([]);\n  }\n  const auth = () => {\n    signupPage.current.style.display = \"flex\";\n  }\n  const hideBar = () => {\n    signupPage.current.style.display = \"none\";\n  }\n  return (\n    <div>\n      <NavBar signup={auth}/>\n      <section className=\"service-section\">\n      <div className=\"form-bg\">\n      <Form postUrlF={postUrl} newUrlF={newUrl}\n      handleChangeF={handleChange}\n      handleKeysF={handleKeys} visitsF={visits} showHistoryF={showHistory}/>\n      <div className=\"url-records d-inline-block\">{\n        records.map(rec => <Record key={rec.key} longUrl={rec.long} shortUrl={rec.short}/>)\n      }</div>\n      </div>\n      <Content />\n      </section>\n      <div ref={exitButton} className=\"history-wrapper\">\n        <i className=\"bi bi-x-square\" onClick={hideHistory}></i>\n        <button onClick={clearHistory } className=\"btn btn-light\"><i className=\"bi bi-trash-fill\"></i>Clear History</button>\n      { history }\n      </div>\n      <section ref={signupPage} className=\"auth-section\">\n        <Signup />\n        <i className=\"bi bi-x-square text-dark\" onClick={hideBar}></i>\n      </section>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}