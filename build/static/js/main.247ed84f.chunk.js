(this["webpackJsonpgopeer-app"]=this["webpackJsonpgopeer-app"]||[]).push([[0],{20:function(e,t,n){},4:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(15),i=n.n(c),a=(n(20),n(5)),o=(n(4),n(3)),l=n.n(o),u={postUrl:function(e){return l.a.post("/post/service/url",e).then((function(e){return e.data}))},getUrl:function(e){return l.a.get(e).then((function(e){return e.data}))},getUserIp:function(){return l.a.get("http://api.ipify.org/?format=json").then((function(e){return e.data.ip}))},postUser:function(e){return l.a.post("/post/service/addNewUser",e).then((function(e){return e.data}))},getHistory:function(e){return l.a.post("/post/service/app/history",e).then((function(e){return e.data}))},clearHistory:function(e){return l.a.post("post/service/delallaPPhisToRy",e).then((function(e){return e.data}))}},b=(n(39),n(0)),j=function(e){var t=e.signup;return Object(b.jsxs)("div",{className:"nav-wrapper",children:[Object(b.jsx)("h1",{children:"Lynx"}),Object(b.jsxs)("button",{onClick:t,className:"btn btn-light float-right",children:[Object(b.jsx)("i",{className:"bi bi-person"}),"Create Account"]}),Object(b.jsx)("button",{className:"btn btn-white float-right",children:"Sign In"})]})},d=function(e){var t=e.longUrl,n=e.shortUrl;e.copyHandle,e.copyUrlF,e.getRequest;return Object(b.jsxs)("div",{className:"record-wrapper",children:[Object(b.jsx)("i",{className:"bi bi-clock-history text-info"}),Object(b.jsx)("span",{className:"url text-info",children:t.substring(0,40)+"..."}),Object(b.jsx)("a",{className:"url",title:"shortened URL for "+t,href:n,rel:"noreferrer",target:"_blank",children:n}),Object(b.jsxs)("button",{className:"btn btn-copy",onClick:function(e){navigator.clipboard.writeText(n),e.target.blur(),e.target.style.color="#f5322d",setTimeout((function(){e.target.style.color="#000"}),500)},children:[Object(b.jsx)("i",{className:"bi bi-clipboard"}),"Copy"]})]})},h=function(e){var t=e.postUrlF,n=e.newUrlF,s=e.handleChangeF,r=e.handleKeysF,c=e.visitsF,i=e.showHistoryF;return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:t,className:"container bg-dark text-white p-5 rounded",children:[Object(b.jsx)("input",{id:"input-url",className:"form-control-md input text-white",placeholder:"https://type_your_url...",value:n,onChange:s}),Object(b.jsxs)("div",{className:"ml-5 p-2",children:[Object(b.jsxs)("button",{type:"submit",onKeyUp:r,className:"btn btn-light ml-1",children:[Object(b.jsx)("i",{className:"bi bi-scissors"}),"Shorten"]}),Object(b.jsxs)("button",{type:"submit",className:"btn text-white ml-1 disabled",title:"Total clicks for given url.",children:[Object(b.jsx)("i",{className:"bi bi-graph-up"}),"TOTAL CLICKS ",Object(b.jsx)("br",{}),c]}),Object(b.jsxs)("button",{type:"submit",onClick:i,className:"btn btn-light ml-1",title:"Show app history",children:[Object(b.jsx)("i",{className:"bi bi-clock-history"}),"App History"]})]})]})})},p=function(){return Object(b.jsxs)("div",{className:"container m-5 content",children:[Object(b.jsxs)("h2",{className:"d-inline-block",children:["Link with Lynx. ",Object(b.jsx)("br",{})," Join our community."]}),Object(b.jsx)("p",{className:"p-home",children:"On top of better deliverability and click-through, rich link-level data gives you crucial insight into your link engagement so your team can make smarter decisions around its content and communications."}),Object(b.jsx)("img",{alt:"Homepage",src:"https://www.hauer.codes/images/logos/codeOrbitDark.png",id:"home-img"})]})},m=function(){return Object(b.jsx)("div",{className:"justify-content-center d-flex",children:Object(b.jsxs)("form",{action:"http://localhost:7000/auth/sign_up",method:"POST",className:"bg-dark p-5 text-white rounded",crossOrigin:"",children:[Object(b.jsx)("label",{htmlFor:"number",children:"Phone number"}),Object(b.jsx)("input",{className:"text-white",name:"number",id:"number",type:"tel",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"password",children:"Password "}),Object(b.jsx)("input",{className:"text-white",type:"password",id:"password",name:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 characters",required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",value:"Submit",className:"btn btn-light w-50 m-5",children:"Create"}),Object(b.jsx)("br",{})]})})},O=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(0),i=Object(a.a)(c,2),o=i[0],l=i[1],O=Object(s.useState)([]),f=Object(a.a)(O,2),x=f[0],g=f[1],y=Object(s.useState)([]),v=Object(a.a)(y,2),N=v[0],w=v[1],k=Object(s.useState)(""),U=Object(a.a)(k,2),C=U[0],F=U[1],S=Object(s.useRef)(null),H=Object(s.useRef)(null);Object(s.useEffect)((function(){u.getUserIp().then((function(e){F(e)}))}),[]);var T=function(e){if(e.preventDefault(),n){var t={original:n};u.postUrl(t).then((function(e){r(e.minified),l(e.count);var t={long:e.original,short:e.minified,id:e.nano,key:new Date};g(x.concat(t).reverse()),u.postUser({ip:C,record:t}).then((function(e){return e}))}))}};return Object(b.jsxs)("div",{children:[Object(b.jsx)(j,{signup:function(){H.current.style.display="flex"}}),Object(b.jsxs)("section",{className:"service-section",children:[Object(b.jsxs)("div",{className:"form-bg",children:[Object(b.jsx)(h,{postUrlF:T,newUrlF:n,handleChangeF:function(e){r(e.target.value)},handleKeysF:function(e){return 13===e.KeyCode?T:console.log("Wrong key;")},visitsF:o,showHistoryF:function(){r(n),u.getHistory({ip:C}).then((function(e){var t=e.map((function(e){return Object(b.jsx)(d,{longUrl:e.long,shortUrl:e.short},e.key)}));w(t),N&&(S.current.style.display="block")}))}}),Object(b.jsx)("div",{className:"url-records d-inline-block",children:x.map((function(e){return Object(b.jsx)(d,{longUrl:e.long,shortUrl:e.short},e.key)}))})]}),Object(b.jsx)(p,{})]}),Object(b.jsxs)("div",{ref:S,className:"history-wrapper",children:[Object(b.jsx)("i",{className:"bi bi-x-square",onClick:function(){w([]),S.current.style.display="none"}}),Object(b.jsxs)("button",{onClick:function(){u.clearHistory({ip:C}),w([])},className:"btn btn-light",children:[Object(b.jsx)("i",{className:"bi bi-trash-fill"}),"Clear History"]}),N]}),Object(b.jsxs)("section",{ref:H,className:"auth-section",children:[Object(b.jsx)(m,{}),Object(b.jsx)("i",{className:"bi bi-x-square text-dark",onClick:function(){H.current.style.display="none"}})]})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),f()}},[[41,1,2]]]);
//# sourceMappingURL=main.247ed84f.chunk.js.map